{"version":3,"sources":["components/globalContext.js","services/firebase.js","services/firebaseui.js","pages/Login.js","components/styleContext.js","custom_hooks/useWindowDimensions.js","components/ChatHead.js","components/ChatSideBar.js","custom_hooks/useRoomIndex.js","components/BlankRoom.js","components/ComposeChatText.js","components/InboxHeader.js","components/ChatText.js","components/ChatTexts.js","components/ChatBox.js","components/SearchResult.js","components/Search.js","components/Logout.js","components/ChatHeader.js","components/GreyOut.js","components/ChatFooter.js","pages/Chat.js","App.js","index.js"],"names":["globalContext","React","createContext","GlobalContextProvider","props","useState","user","chatRooms","currentRoomId","global","setGlobal","Provider","value","children","fire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","callbacks","signInSuccessWithAuthResult","Login","className","firebaseAuth","styleContext","StyleContextProvider","searchIsOn","focused","breakPoint","myStyle","setMyStyle","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","ChatHead","useWindowsDimensions","useContext","info","room_name","room_id","imgUrls","name","displayName","imgUrl","photoURL","onClick","prevGlobal","prevMyStyle","src","alt","ChatSideBar","chatHeads","map","room","focusedStyle","display","gridArea","style","useRoomIndex","id","findIndex","BlankRoom","color","icon","faHandshake","ComposeChatText","currentRoomInd","inpVal","setInpVal","placeholder","onChange","event","target","handleChange","curTime","Date","newText","now","author","email","body","time","toLocaleTimeString","updTexts","texts","length","shift","push","collection","doc","update","then","console","log","catch","error","faPaperPlane","InboxHeader","Text","members","member","imgStyle","contentStyle","marginLeft","order","marginRight","alignSelf","filter","text","faTrashAlt","ChatTexts","scrollRef","useRef","current","scrollTop","scrollHeight","clientHeight","ref","ChatText","ChatBox","SearchResult","a","includes","newRoom","add","docRef","where","get","updChatRooms","newChatRooms","docs","data","handleClick","Search","userBar","setUserBar","trim","snapShot","tempUserBars","forEach","faSearch","Logout","signOut","faSignOutAlt","ChatHeader","GreyOut","zIndex","ChatFooter","faUserFriends","faCommentDots","Chat","dbListener","onSnapshot","Fragment","alignItems","justifyContent","fontSize","backgroundColor","App","authChange","onAuthStateChanged","currentUser","metadata","creationTime","lastSignInTime","newUser","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a0b4cceb.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nconst globalContext = React.createContext();\r\n\r\nfunction GlobalContextProvider(props) {\r\n  const [global, setGlobal] = useState({\r\n    user: null,\r\n    chatRooms: null,\r\n    currentRoomId: null,\r\n  });\r\n\r\n  return (\r\n    <globalContext.Provider value={{ global, setGlobal }}>\r\n      {props.children}\r\n    </globalContext.Provider>\r\n  );\r\n}\r\n\r\nexport { GlobalContextProvider, globalContext };\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBQwYLNreWnwSEeNC3eOzr-2q-1PASglCI\",\r\n  authDomain: \"cute-chat-43080.firebaseapp.com\",\r\n  projectId: \"cute-chat-43080\",\r\n  storageBucket: \"cute-chat-43080.appspot.com\",\r\n  messagingSenderId: \"730231964779\",\r\n  appId: \"1:730231964779:web:198ad75e908791fa541d2e\",\r\n};\r\n\r\nconst fire = firebase.initializeApp(firebaseConfig);\r\nlet db = fire.firestore();\r\n\r\nexport { fire, db };\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst uiConfig = {\r\n  signInFlow: \"popup\",\r\n  signInOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n  ],\r\n  callbacks: {\r\n    // Avoid redirects after sign-in.\r\n    signInSuccessWithAuthResult: () => {\r\n      return false;\r\n    },\r\n  },\r\n};\r\n\r\nexport default uiConfig;\r\n","import React from \"react\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { fire } from \"../services/firebase\";\r\nimport uiConfig from \"../services/firebaseui\";\r\nimport \"../styles/Login.css\";\r\n\r\nfunction Login() {\r\n  /* console.log(\"Login Component.\"); */\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"login-container elevated\">\r\n        <p className=\"item title\">Login</p>\r\n        <div className=\"item\">\r\n          <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={fire.auth()} />\r\n        </div>\r\n        <p className=\"item dev\">Developed By: Asif Azad</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\n\r\nconst styleContext = React.createContext();\r\n\r\nfunction StyleContextProvider(props) {\r\n  const [myStyle, setMyStyle] = useState({\r\n    searchIsOn: false,\r\n    focused: -1,\r\n    breakPoint: 1023,\r\n  });\r\n\r\n  return (\r\n    <styleContext.Provider value={{ myStyle, setMyStyle }}>\r\n      {props.children}\r\n    </styleContext.Provider>\r\n  );\r\n}\r\n\r\nexport { StyleContextProvider, styleContext };\r\n","import { useState, useEffect } from \"react\";\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nfunction useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(\r\n    getWindowDimensions()\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n\r\nexport default useWindowDimensions;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport useWindowsDimensions from \"../custom_hooks/useWindowDimensions\";\r\n\r\nfunction ChatHead(props) {\r\n  /* console.log(\"ChatHead Component\"); */\r\n\r\n  const { width } = useWindowsDimensions();\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { breakPoint } = myStyle;\r\n  const { global, setGlobal } = useContext(globalContext);\r\n  const { user } = global;\r\n  const { room_name, room_id, imgUrls } = props.info;\r\n  let name = room_name[0] === user.displayName ? room_name[1] : room_name[0];\r\n  let imgUrl = imgUrls[0] === user.photoURL ? imgUrls[1] : imgUrls[0];\r\n\r\n  function handleClick() {\r\n    setGlobal((prevGlobal) => {\r\n      return { ...prevGlobal, currentRoomId: room_id };\r\n    });\r\n\r\n    if (width <= breakPoint) {\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, focused: 0 };\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button className=\"chat-head elevated\" onClick={() => handleClick()}>\r\n      <img className=\"avatar\" src={imgUrl} alt=\"avatar\" />\r\n      <p>{name}</p>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ChatHead;\r\n","import React, { useContext } from \"react\";\r\nimport ChatHead from \"./ChatHead\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\n\r\nfunction ChatSideBar() {\r\n  /* console.log(\"ChatSideBar component.\"); */\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { myStyle } = useContext(styleContext);\r\n  const { focused } = myStyle;\r\n  const { chatRooms } = global;\r\n\r\n  const chatHeads = chatRooms.map((room) => {\r\n    return <ChatHead key={room.room_id} info={room} />;\r\n  });\r\n\r\n  let focusedStyle = {\r\n    display: \"block\",\r\n    gridArea: \"focus\",\r\n  };\r\n\r\n  if (focused === -1) {\r\n    focusedStyle.gridArea = \"sidebar\";\r\n  }\r\n\r\n  const hiddenStyle = {\r\n    display: \"none\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-sidebar pressed\"\r\n      style={focused === 0 ? hiddenStyle : focusedStyle}\r\n    >\r\n      {chatHeads}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatSideBar;\r\n","import { useContext } from \"react\";\r\nimport { globalContext } from \"../components/globalContext\";\r\n\r\nfunction useRoomIndex(id) {\r\n  const { global } = useContext(globalContext);\r\n  const { chatRooms } = global;\r\n  if (id === null) {\r\n    return null;\r\n  }\r\n  const index = chatRooms.findIndex((room) => room.room_id === id);\r\n  return index;\r\n}\r\n\r\nexport default useRoomIndex;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHandshake } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction BlankRoom() {\r\n  /* console.log(\"BlankRoom Component.\"); */\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { user } = global;\r\n\r\n  return (\r\n    <div className=\"blank-room\">\r\n      <p\r\n        style={{ color: \"var(--accent-col-2)\" }}\r\n      >{`Welcome To CuteChat ${user.displayName}`}</p>\r\n      <div className=\"faded-icon\">\r\n        <FontAwesomeIcon icon={faHandshake} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlankRoom;\r\n","import React from \"react\";\r\nimport { db } from \"../services/firebase\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction ComposeChatText() {\r\n  /* console.log(\"ComposeChatText Component\"); */\r\n\r\n  const { global } = React.useContext(globalContext);\r\n  const { chatRooms, currentRoomId, user } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n\r\n  const [inpVal, setInpVal] = React.useState(\"\");\r\n\r\n  function handleChange(event) {\r\n    setInpVal(event.target.value);\r\n  }\r\n\r\n  function handleClick() {\r\n    const curTime = new Date();\r\n    let newText = {\r\n      id: Date.now(),\r\n      author: user.email,\r\n      body: inpVal,\r\n      time: curTime.toLocaleTimeString(),\r\n    };\r\n\r\n    let updTexts = chatRooms[currentRoomInd].texts;\r\n    if (updTexts.length >= 20) {\r\n      updTexts.shift();\r\n    }\r\n    updTexts.push(newText);\r\n\r\n    db.collection(\"cute_rooms\")\r\n      .doc(currentRoomId)\r\n      .update({ texts: updTexts })\r\n      .then(() => console.log(\"success writing\"))\r\n      .catch((error) => console.log(error));\r\n\r\n    setInpVal(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"compose-text\">\r\n      <input\r\n        className=\"pressed\"\r\n        placeholder=\"You are awesome\"\r\n        value={inpVal}\r\n        onChange={(event) => handleChange(event)}\r\n      />\r\n      <button className=\"elevated rounded-btn\" onClick={handleClick}>\r\n        <FontAwesomeIcon icon={faPaperPlane} />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ComposeChatText;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\n\r\nfunction InboxHeader() {\r\n  const { global } = useContext(globalContext);\r\n  const { user, chatRooms, currentRoomId } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n  let name, imgUrl;\r\n\r\n  if (currentRoomInd !== null) {\r\n    const { room_name, imgUrls } = chatRooms[currentRoomInd];\r\n    name = room_name[0] === user.displayName ? room_name[1] : room_name[0];\r\n    imgUrl = imgUrls[0] === user.photoURL ? imgUrls[1] : imgUrls[0];\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-header\">\r\n      <img className=\"avatar elevated\" src={imgUrl} alt=\"avatar\" />\r\n      <p>{name}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InboxHeader;\r\n","import React, { useContext } from \"react\";\r\nimport { db } from \"../services/firebase\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Text(props) {\r\n  /* console.log(\"Text component\"); */\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { chatRooms, currentRoomId, user } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n  const { id, body, time, author } = props.info;\r\n\r\n  const { members, imgUrls } = chatRooms[currentRoomInd];\r\n  const authorIndex = members.findIndex((member) => member === author);\r\n  const imgUrl = imgUrls[authorIndex];\r\n\r\n  function handleDelete() {\r\n    let updTexts = chatRooms[currentRoomInd].texts.filter((text) => {\r\n      return text.id !== id;\r\n    });\r\n\r\n    db.collection(\"cute_rooms\")\r\n      .doc(currentRoomId)\r\n      .update({ texts: updTexts })\r\n      .then(() => console.log(\"success writing\"))\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  let imgStyle = {};\r\n  let contentStyle = {\r\n    marginLeft: \"1rem\",\r\n  };\r\n\r\n  if (author === user.email) {\r\n    imgStyle = {\r\n      order: \"2\",\r\n    };\r\n\r\n    contentStyle = {\r\n      order: \"1\",\r\n      marginRight: \"1rem\",\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-text\"\r\n      style={author === user.email ? { alignSelf: \"flex-end\" } : null}\r\n    >\r\n      <img className=\"avatar\" src={imgUrl} style={imgStyle} alt=\"avatar\" />\r\n      <div className=\"chat-text-content elevated\" style={contentStyle}>\r\n        <p className=\"chat-text-time\">{time}</p>\r\n        <p className=\"chat-text-body\">{body}</p>\r\n        {author === user.email && (\r\n          <button className=\"chat-text-delete\" onClick={handleDelete}>\r\n            <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Text;\r\n","import React, { useContext, useRef, useEffect } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport ChatText from \"./ChatText\";\r\n\r\nfunction ChatTexts() {\r\n  const { global } = useContext(globalContext);\r\n  const { chatRooms, currentRoomId } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n  const scrollRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    scrollRef.current.scrollTop =\r\n      scrollRef.current.scrollHeight - scrollRef.current.clientHeight;\r\n  });\r\n\r\n  return (\r\n    <div className=\"chat-texts\" ref={scrollRef}>\r\n      {chatRooms[currentRoomInd].texts.map((text) => {\r\n        return <ChatText key={text.id} info={text} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatTexts;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport BlankRoom from \"./BlankRoom\";\r\nimport ComposeChatText from \"./ComposeChatText\";\r\nimport InboxHeader from \"../components/InboxHeader\";\r\nimport ChatTexts from \"../components/ChatTexts\";\r\n\r\nfunction ChatBox() {\r\n  /* console.log(\"ChatBox component\"); */\r\n\r\n  const { myStyle } = useContext(styleContext);\r\n  const { focused } = myStyle;\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { currentRoomId } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n\r\n  let focusedStyle = {\r\n    display: \"grid\",\r\n    gridArea: \"focus\",\r\n  };\r\n\r\n  if (focused === -1) {\r\n    focusedStyle.gridArea = \"box\";\r\n  }\r\n\r\n  const hiddenStyle = {\r\n    display: \"none\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-box pressed\"\r\n      style={focused === 1 ? hiddenStyle : focusedStyle}\r\n    >\r\n      {currentRoomInd === null ? (\r\n        <BlankRoom />\r\n      ) : (\r\n        <>\r\n          <InboxHeader />\r\n          <ChatTexts />\r\n          <ComposeChatText />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatBox;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport { db } from \"../services/firebase\";\r\n\r\nfunction SearchResult(props) {\r\n  /* console.log(\"SearchResult component.\"); */\r\n\r\n  const { global, setGlobal } = useContext(globalContext);\r\n  const { setMyStyle } = useContext(styleContext);\r\n  const { chatRooms, user } = global;\r\n  const { name, email, imgUrl } = props.info;\r\n\r\n  async function handleClick() {\r\n    /* console.log(\"Search Result from searches Click\"); */\r\n\r\n    if (email === user.email) {\r\n      console.log(\"This is You!\");\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, searchIsOn: false };\r\n      });\r\n      return;\r\n    }\r\n\r\n    let currentRoomInd = chatRooms.findIndex((room) => {\r\n      return room.members.includes(email);\r\n    });\r\n    if (currentRoomInd === -1) {\r\n      const room_name = [user.displayName, name],\r\n        members = [user.email, email],\r\n        imgUrls = [user.photoURL, imgUrl];\r\n      const newRoom = { room_name, members, imgUrls, texts: [] };\r\n      const docRef = await db.collection(\"cute_rooms\").add(newRoom);\r\n\r\n      /* console.log(`${docRef.id} successfully room added.`); */\r\n\r\n      const updChatRooms = await db\r\n        .collection(\"cute_rooms\")\r\n        .where(\"members\", \"array-contains\", user.email)\r\n        .get();\r\n\r\n      let newChatRooms = [];\r\n\r\n      for (let doc of updChatRooms.docs) {\r\n        newChatRooms.push({ room_id: doc.id, ...doc.data() });\r\n      }\r\n\r\n      setGlobal((prevGlobal) => {\r\n        return {\r\n          ...prevGlobal,\r\n          chatRooms: newChatRooms,\r\n          currentRoomId: docRef.id,\r\n        };\r\n      });\r\n    } else {\r\n      let currentRoomId = chatRooms[currentRoomInd].room_id;\r\n      setGlobal((prevGlobal) => {\r\n        return { ...prevGlobal, currentRoomInd, currentRoomId };\r\n      });\r\n    }\r\n    setMyStyle((prevMyStyle) => {\r\n      return { ...prevMyStyle, searchIsOn: false };\r\n    });\r\n  }\r\n\r\n  return (\r\n    <button className=\"search-result elevated\" onClick={() => handleClick()}>\r\n      <img className=\"avatar\" src={imgUrl} alt=\"\" />\r\n      <p>{name}</p>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default SearchResult;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { db } from \"../services/firebase\";\r\nimport SearchResult from \"./SearchResult\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Search() {\r\n  /* console.log(\"Search Component\"); */\r\n\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { searchIsOn } = myStyle;\r\n  const [inpVal, setInpVal] = useState(\"\");\r\n  const [userBar, setUserBar] = useState([]);\r\n  function handleChange(event) {\r\n    setInpVal(event.target.value);\r\n  }\r\n\r\n  function handleSearch() {\r\n    /* console.log(\"handleSearch clicked.\"); */\r\n\r\n    if (inpVal) {\r\n      /* console.log(`after setMyStyle: ${myStyle}`); */\r\n      db.collection(\"cute_users\")\r\n        .where(\"name\", \"==\", inpVal.trim())\r\n        .get()\r\n        .then((snapShot) => {\r\n          let tempUserBars = [];\r\n\r\n          snapShot.forEach((doc) => {\r\n            tempUserBars.push(<SearchResult key={doc.id} info={doc.data()} />);\r\n          });\r\n          setUserBar(tempUserBars);\r\n          setMyStyle((prevMyStyle) => {\r\n            return { ...prevMyStyle, searchIsOn: true };\r\n          });\r\n          setInpVal(\"\");\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <input\r\n        className=\"pressed\"\r\n        value={inpVal}\r\n        placeholder=\"ex. Asif Azad\"\r\n        onChange={(event) => handleChange(event)}\r\n      />\r\n      <button className=\"rounded-btn elevated\" onClick={handleSearch}>\r\n        <FontAwesomeIcon icon={faSearch} />\r\n      </button>\r\n      <div\r\n        className=\"search-results\"\r\n        style={searchIsOn ? { display: \"block\" } : { display: \"none\" }}\r\n      >\r\n        {userBar.length === 0 ? <div>No Matched Result</div> : userBar}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport { fire } from \"../services/firebase\";\r\nimport useWindowDimensions from \"../custom_hooks/useWindowDimensions\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Logout() {\r\n  /* console.log(\"Logout Component.\"); */\r\n\r\n  const { width } = useWindowDimensions();\r\n\r\n  function handleLogout() {\r\n    fire.auth().signOut();\r\n  }\r\n  return (\r\n    <button\r\n      className={width <= 400 ? \"rounded-btn elevated\" : \"logout elevated\"}\r\n      onClick={handleLogout}\r\n    >\r\n      {width <= 480 ? <FontAwesomeIcon icon={faSignOutAlt} /> : \"Logout\"}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Logout;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport Search from \"./Search\";\r\nimport Logout from \"./Logout\";\r\n\r\nfunction ChatHeader() {\r\n  const { global } = useContext(globalContext);\r\n  const { user } = global;\r\n\r\n  return (\r\n    <div className=\"chat-header elevated\">\r\n      <img className=\"avatar elevated\" src={user.photoURL} alt=\"avatar\" />\r\n      <Search />\r\n      <Logout />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatHeader;\r\n","import React, { useContext } from \"react\";\r\nimport { styleContext } from \"./styleContext\";\r\n\r\nfunction GreyOut() {\r\n  const { myStyle } = useContext(styleContext);\r\n  const { searchIsOn } = myStyle;\r\n\r\n  return (\r\n    <div\r\n      className=\"greyout\"\r\n      style={searchIsOn ? { zIndex: \"1\" } : { zIndex: \"-1\" }}\r\n    ></div>\r\n  );\r\n}\r\n\r\nexport default GreyOut;\r\n","import React, { useContext } from \"react\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faCommentDots,\r\n  faUserFriends,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction ChatFooter() {\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { focused } = myStyle;\r\n\r\n  function handleClick() {\r\n    setMyStyle((prevMyStyle) => {\r\n      const focused = 1 - prevMyStyle.focused;\r\n      return { ...prevMyStyle, focused };\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"chat-footer elevated\">\r\n      <button className=\"elevated rounded-btn\" onClick={handleClick}>\r\n        <FontAwesomeIcon icon={focused === 0 ? faUserFriends : faCommentDots} />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatFooter;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { globalContext } from \"../components/globalContext\";\r\nimport { db } from \"../services/firebase\";\r\nimport ChatSideBar from \"../components/ChatSideBar\";\r\nimport ChatBox from \"../components/ChatBox\";\r\nimport ChatHeader from \"../components/ChatHeader\";\r\nimport GreyOut from \"../components/GreyOut\";\r\nimport ChatFooter from \"../components/ChatFooter\";\r\nimport { styleContext } from \"../components/styleContext\";\r\nimport useWindowDimensions from \"../custom_hooks/useWindowDimensions\";\r\nimport \"../styles/Chat.css\";\r\n\r\nfunction Chat() {\r\n  /* console.log(\"Chat Component\"); */\r\n\r\n  const { global, setGlobal } = useContext(globalContext);\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { breakPoint } = myStyle;\r\n  const { width } = useWindowDimensions();\r\n  const { user, chatRooms } = global;\r\n\r\n  /*   console.log(`width: ${width}`);\r\n  console.log(`focused: ${myStyle.focused}`); */\r\n\r\n  useEffect(() => {\r\n    if (width <= breakPoint) {\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, focused: 0 };\r\n      });\r\n    } else {\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, focused: -1 };\r\n      });\r\n    }\r\n  }, [width]);\r\n\r\n  useEffect(() => {\r\n    const dbListener = db\r\n      .collection(\"cute_rooms\")\r\n      .where(\"members\", \"array-contains\", user.email)\r\n      .onSnapshot((snapShot) => {\r\n        let newChatRooms = [];\r\n        snapShot.forEach((doc) => {\r\n          newChatRooms.push({ room_id: doc.id, ...doc.data() });\r\n        });\r\n\r\n        setGlobal((prevGlobal) => {\r\n          return { ...prevGlobal, chatRooms: newChatRooms };\r\n        });\r\n      });\r\n\r\n    return function cleanup() {\r\n      dbListener();\r\n    };\r\n  }, []);\r\n\r\n  const loadingStyle = {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    fontSize: \"1.5rem\",\r\n    backgroundColor: \"var(--primary-col)\",\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {chatRooms === null ? (\r\n        <div style={loadingStyle}>\r\n          <p>Loading. . .</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"chat-container\">\r\n          <ChatHeader />\r\n          <ChatSideBar />\r\n          <ChatBox />\r\n          <ChatFooter />\r\n          <GreyOut />\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { globalContext } from \"./components/globalContext\";\r\nimport { fire, db } from \"./services/firebase\";\r\nimport Login from \"./pages/Login\";\r\nimport Chat from \"./pages/Chat\";\r\nimport { StyleContextProvider } from \"./components/styleContext\";\r\n\r\nfunction App() {\r\n  /* console.log(\"App component\"); */\r\n\r\n  const { global, setGlobal } = useContext(globalContext);\r\n  const { user } = global;\r\n\r\n  useEffect(() => {\r\n    const authChange = fire.auth().onAuthStateChanged((user) => {\r\n      /* console.log(`Auth Changed. User: ${user}`); */\r\n\r\n      user === null\r\n        ? setGlobal((prevGlobal) => {\r\n            return {\r\n              ...prevGlobal,\r\n              user: null,\r\n              currentRoomId: null,\r\n              chatRooms: null,\r\n            };\r\n          })\r\n        : setGlobal((prevGlobal) => {\r\n            return { ...prevGlobal, user };\r\n          });\r\n\r\n      if (\r\n        user &&\r\n        fire.auth().currentUser.metadata.creationTime ===\r\n          fire.auth().currentUser.metadata.lastSignInTime\r\n      ) {\r\n        let newUser = {\r\n          name: user.displayName,\r\n          email: user.email,\r\n          imgUrl: user.photoURL,\r\n        };\r\n        db.collection(\"cute_users\")\r\n          .add(newUser)\r\n          .then((docRef) =>\r\n            console.log(`${docRef.id} and new user successfully in.`)\r\n          )\r\n          .catch((error) =>\r\n            console.log(`${error} in writing new user in database.`)\r\n          );\r\n      }\r\n    });\r\n\r\n    return function cleanup() {\r\n      authChange();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <StyleContextProvider>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            {user ? <Chat /> : <Login />}\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </StyleContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { GlobalContextProvider } from \"./components/globalContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <GlobalContextProvider>\r\n      <App />\r\n    </GlobalContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}