{"version":3,"sources":["components/globalContext.js","services/firebase.js","services/firebaseui.js","pages/Login.js","components/styleContext.js","custom_hooks/useWindowDimensions.js","components/ChatHead.js","components/ChatSideBar.js","custom_hooks/useRoomIndex.js","components/BlankRoom.js","components/ComposeChatText.js","components/InboxHeader.js","components/ChatText.js","components/ChatTexts.js","components/ChatBox.js","components/SearchResult.js","components/Search.js","components/Logout.js","components/ChatHeader.js","components/GreyOut.js","components/ChatFooter.js","pages/Chat.js","App.js","index.js"],"names":["globalContext","React","createContext","GlobalContextProvider","props","useState","user","chatRooms","currentRoomId","global","setGlobal","Provider","value","children","fire","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","EmailAuthProvider","callbacks","signInSuccessWithAuthResult","Login","console","log","className","firebaseAuth","styleContext","StyleContextProvider","searchIsOn","focused","breakPoint","myStyle","setMyStyle","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","ChatHead","useWindowsDimensions","useContext","info","room_name","room_id","imgUrls","name","displayName","imgUrl","photoURL","onClick","prevGlobal","prevMyStyle","src","alt","ChatSideBar","chatHeads","map","room","focusedStyle","display","gridArea","style","useRoomIndex","id","findIndex","BlankRoom","icon","faHandshake","ComposeChatText","currentRoomInd","inpVal","setInpVal","placeholder","onChange","event","target","handleChange","curTime","Date","newText","now","author","email","body","time","toLocaleTimeString","updTexts","texts","length","shift","push","collection","doc","update","then","catch","error","faPaperPlane","InboxHeader","Text","members","member","imgStyle","contentStyle","marginLeft","order","marginRight","alignSelf","filter","text","faTrashAlt","ChatTexts","ChatText","ChatBox","SearchResult","a","includes","newRoom","add","docRef","where","get","updChatRooms","newChatRooms","docs","data","handleClick","Search","userBar","setUserBar","trim","snapShot","tempUserBars","forEach","faSearch","Logout","signOut","faSignOutAlt","ChatHeader","GreyOut","zIndex","ChatFooter","faCoffee","faParachuteBox","Chat","dbListener","onSnapshot","Fragment","App","authChange","onAuthStateChanged","currentUser","metadata","creationTime","lastSignInTime","newUser","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wOACMA,EAAgBC,IAAMC,gBAE5B,SAASC,EAAsBC,GAC7B,MAA4BC,mBAAS,CACnCC,KAAM,KACNC,UAAW,KACXC,cAAe,OAHjB,mBAAOC,EAAP,KAAeC,EAAf,KAMA,OACE,cAACV,EAAcW,SAAf,CAAwBC,MAAO,CAAEH,SAAQC,aAAzC,SACGN,EAAMS,W,WCAPC,G,MAAOC,IAASC,cATD,CACnBC,OAAQ,0CACRC,WAAY,kCACZC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,+CAILC,EAAKT,EAAKU,Y,iBCICC,G,MAdE,CACfC,WAAY,QACZC,cAAe,CACbZ,IAASa,KAAKC,mBAAmBC,YACjCf,IAASa,KAAKG,kBAAkBD,aAElCE,UAAW,CAETC,4BAA6B,WAC3B,OAAO,M,MCSEC,MAff,WAGE,OAFAC,QAAQC,IAAI,oBAGV,qBAAKC,UAAU,YAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,mBAAGA,UAAU,OAAb,mBACA,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,CAAoBZ,SAAUA,EAAUa,aAAcxB,EAAKc,iBCZ/DW,EAAetC,IAAMC,gBAE3B,SAASsC,EAAqBpC,GAC5B,MAA8BC,mBAAS,CACrCoC,YAAY,EACZC,SAAU,EACVC,WAAY,OAHd,mBAAOC,EAAP,KAAgBC,EAAhB,KAMA,OACE,cAACN,EAAa5B,SAAd,CAAuBC,MAAO,CAAEgC,UAASC,cAAzC,SACGzC,EAAMS,WCXb,SAASiC,IACP,MAAmDC,OACnD,MAAO,CACLC,MAFF,EAAQC,WAGNC,OAHF,EAA2BC,aAwBdC,MAjBf,WACE,MAAgD/C,mBAC9CyC,KADF,mBAAOO,EAAP,KAAyBC,EAAzB,KAaA,OATAC,qBAAU,WACR,SAASC,IACPF,EAAoBR,KAItB,OADAC,OAAOU,iBAAiB,SAAUD,GAC3B,kBAAMT,OAAOW,oBAAoB,SAAUF,MACjD,IAEIH,GCaMM,MAhCf,SAAkBvD,GAChB+B,QAAQC,IAAI,sBAEZ,IAAQY,EAAUY,IAAVZ,MACR,EAAgCa,qBAAWtB,GAAnCK,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WACTF,EAAeC,EAAfD,WACR,EAA8BkB,qBAAW7D,GAAjCS,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UACRJ,EAASG,EAATH,KACR,EAAwCF,EAAM0D,KAAtCC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,QAASC,EAA5B,EAA4BA,QACxBC,EAAOH,EAAU,KAAOzD,EAAK6D,YAAcJ,EAAU,GAAKA,EAAU,GACpEK,EAASH,EAAQ,KAAO3D,EAAK+D,SAAWJ,EAAQ,GAAKA,EAAQ,GAcjE,OADA9B,QAAQC,IAAR,iBAAsBhC,EAAM0D,OAE1B,yBAAQzB,UAAU,qBAAqBiC,QAAS,kBAZhD5D,GAAU,SAAC6D,GACT,OAAO,2BAAKA,GAAZ,IAAwB/D,cAAewD,YAGrChB,GAASL,GACXE,GAAW,SAAC2B,GACV,OAAO,2BAAKA,GAAZ,IAAyB9B,QAAS,SAMtC,UACE,qBAAKL,UAAU,SAASoC,IAAKL,EAAQM,IAAI,WACzC,4BAAIR,QCUKS,MArCf,WACExC,QAAQC,IAAI,0BAEZ,IAAQ3B,EAAWoD,qBAAW7D,GAAtBS,OAEAiC,EADYmB,qBAAWtB,GAAvBK,QACAF,QAGFkC,EAFgBnE,EAAdF,UAEoBsE,KAAI,SAACC,GAC/B,OAAO,cAAC,EAAD,CAA6BhB,KAAMgB,GAApBA,EAAKd,YAGzBe,EAAe,CACjBC,QAAS,QACTC,SAAU,SAaZ,OAViB,IAAbvC,IACFqC,EAAaE,SAAW,WAO1B9C,QAAQC,IAAR,8BAAmCM,IAGjC,qBACEL,UAAU,uBACV6C,MAAmB,IAAZxC,EATS,CAClBsC,QAAS,QAQ8BD,EAFvC,SAIGH,KCxBQO,MAVf,SAAsBC,GACpB,IACQ7E,EADWsD,qBAAW7D,GAAtBS,OACAF,UACR,OAAW,OAAP6E,EACK,KAEK7E,EAAU8E,WAAU,SAACP,GAAD,OAAUA,EAAKd,UAAYoB,M,gBCYhDE,MAhBf,WACEnD,QAAQC,IAAI,wBAEZ,IACQ9B,EADWuD,qBAAW7D,GAAtBS,OACAH,KAER,OACE,sBAAK+B,UAAU,aAAf,UACE,0DAA2B/B,EAAK6D,eAChC,qBAAK9B,UAAU,aAAf,SACE,cAAC,IAAD,CAAiBkD,KAAMC,YC4ChBC,MApDf,WACEtD,QAAQC,IAAI,6BAEZ,IAAQ3B,EAAWR,IAAM4D,WAAW7D,GAA5BS,OACAF,EAAmCE,EAAnCF,UAAWC,EAAwBC,EAAxBD,cAAeF,EAASG,EAATH,KAC5BoF,EAAiBP,EAAa3E,GAEpC,EAA4BP,IAAMI,SAAS,IAA3C,mBAAOsF,EAAP,KAAeC,EAAf,KA8BA,OACE,sBAAKvD,UAAU,eAAf,UACE,uBACEA,UAAU,UACVwD,YAAY,QACZjF,MAAO+E,EACPG,SAAU,SAACC,GAAD,OAlChB,SAAsBA,GACpBH,EAAUG,EAAMC,OAAOpF,OAiCEqF,CAAaF,MAEpC,wBAAQ1D,UAAU,uBAAuBiC,QAhC7C,WACE,IAAM4B,EAAU,IAAIC,KAChBC,EAAU,CACZhB,GAAIe,KAAKE,MACTC,OAAQhG,EAAKiG,MACbC,KAAMb,EACNc,KAAMP,EAAQQ,sBAGZC,EAAWpG,EAAUmF,GAAgBkB,MACrCD,EAASE,QAAU,GACrBF,EAASG,QAEXH,EAASI,KAAKX,GAEd7E,EAAGyF,WAAW,cACXC,IAAIzG,GACJ0G,OAAO,CAAEN,MAAOD,IAChBQ,MAAK,kBAAMhF,QAAQC,IAAI,sBACvBgF,OAAM,SAACC,GAAD,OAAWlF,QAAQC,IAAIiF,MAEhCzB,EAAU,KAWR,SACE,cAAC,IAAD,CAAiBL,KAAM+B,YC7BhBC,MApBf,WACE,IAGIrD,EAAME,EAHF3D,EAAWoD,qBAAW7D,GAAtBS,OACAH,EAAmCG,EAAnCH,KAAMC,EAA6BE,EAA7BF,UAAWC,EAAkBC,EAAlBD,cACnBkF,EAAiBP,EAAa3E,GAGpC,GAAuB,OAAnBkF,EAAyB,CAC3B,MAA+BnF,EAAUmF,GAAjC3B,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,QACnBC,EAAOH,EAAU,KAAOzD,EAAK6D,YAAcJ,EAAU,GAAKA,EAAU,GACpEK,EAASH,EAAQ,KAAO3D,EAAK+D,SAAWJ,EAAQ,GAAKA,EAAQ,GAG/D,OACE,sBAAK5B,UAAU,eAAf,UACE,qBAAKA,UAAU,SAASoC,IAAKL,EAAQM,IAAI,WACzC,4BAAIR,QC+CKsD,MA3Df,SAAcpH,GACZ+B,QAAQC,IAAI,kBAEZ,IAAQ3B,EAAWoD,qBAAW7D,GAAtBS,OACAF,EAAmCE,EAAnCF,UAAWC,EAAwBC,EAAxBD,cAAeF,EAASG,EAATH,KAC5BoF,EAAiBP,EAAa3E,GACpC,EAAmCJ,EAAM0D,KAAjCsB,EAAR,EAAQA,GAAIoB,EAAZ,EAAYA,KAAMC,EAAlB,EAAkBA,KAAMH,EAAxB,EAAwBA,OAExB,EAA6B/F,EAAUmF,GAA/B+B,EAAR,EAAQA,QAEFrD,EAFN,EAAiBH,QACGwD,EAAQpC,WAAU,SAACqC,GAAD,OAAYA,IAAWpB,MAezDqB,EAAW,GACXC,EAAe,CACjBC,WAAY,QAcd,OAXIvB,IAAWhG,EAAKiG,QAClBoB,EAAW,CACTG,MAAO,KAGTF,EAAe,CACbE,MAAO,IACPC,YAAa,SAKf,sBACE1F,UAAU,YACV6C,MAAOoB,IAAWhG,EAAKiG,MAAQ,CAAEyB,UAAW,YAAe,KAF7D,UAIE,qBAAK3F,UAAU,SAASoC,IAAKL,EAAQc,MAAOyC,EAAUjD,IAAI,WAC1D,sBAAKrC,UAAU,6BAA6B6C,MAAO0C,EAAnD,UACE,mBAAGvF,UAAU,iBAAb,SAA+BoE,IAC/B,mBAAGpE,UAAU,iBAAb,SAA+BmE,IAC9BF,IAAWhG,EAAKiG,OACf,wBAAQlE,UAAU,mBAAmBiC,QAtC7C,WACE,IAAIqC,EAAWpG,EAAUmF,GAAgBkB,MAAMqB,QAAO,SAACC,GACrD,OAAOA,EAAK9C,KAAOA,KAGrB7D,EAAGyF,WAAW,cACXC,IAAIzG,GACJ0G,OAAO,CAAEN,MAAOD,IAChBQ,MAAK,kBAAMhF,QAAQC,IAAI,sBACvBgF,OAAM,SAACC,GAAD,OAAWlF,QAAQC,IAAIiF,OA6B1B,SACE,cAAC,IAAD,CAAiB9B,KAAM4C,eCvCpBC,MAdf,WACE,IAAQ3H,EAAWoD,qBAAW7D,GAAtBS,OACAF,EAA6BE,EAA7BF,UAAWC,EAAkBC,EAAlBD,cACbkF,EAAiBP,EAAa3E,GAEpC,OACE,qBAAK6B,UAAU,aAAf,SACG9B,EAAUmF,GAAgBkB,MAAM/B,KAAI,SAACqD,GACpC,OAAO,cAACG,EAAD,CAAwBvE,KAAMoE,GAAfA,EAAK9C,UCqCpBkD,MAzCf,WACEnG,QAAQC,IAAI,qBAEZ,IACQM,EADYmB,qBAAWtB,GAAvBK,QACAF,QAGAlC,EADWqD,qBAAW7D,GAAtBS,OACAD,cACFkF,EAAiBP,EAAa3E,GAEhCuE,EAAe,CACjBC,QAAS,OACTC,SAAU,SAWZ,OARiB,IAAbvC,IACFqC,EAAaE,SAAW,OAQxB,qBACE5C,UAAU,mBACV6C,MAAmB,IAAZxC,EAPS,CAClBsC,QAAS,QAM8BD,EAFvC,SAIsB,OAAnBW,EACC,cAAC,EAAD,IAEA,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,U,iCC8BK6C,MApEf,SAAsBnI,GACpB+B,QAAQC,IAAI,2BAEZ,MAA8ByB,qBAAW7D,GAAjCS,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UACRmC,EAAegB,qBAAWtB,GAA1BM,WACAtC,EAAoBE,EAApBF,UAAWD,EAASG,EAATH,KACnB,EAAgCF,EAAM0D,KAA9BI,EAAR,EAAQA,KAAMqC,EAAd,EAAcA,MAAOnC,EAArB,EAAqBA,OANM,4CAQ3B,kDAAAoE,EAAA,yDACErG,QAAQC,IAAI,qCAERmE,IAAUjG,EAAKiG,MAHrB,uBAIIpE,QAAQC,IAAI,gBACZS,GAAW,SAAC2B,GACV,OAAO,2BAAKA,GAAZ,IAAyB/B,YAAY,OAN3C,8BAc0B,KAHpBiD,EAAiBnF,EAAU8E,WAAU,SAACP,GACxC,OAAOA,EAAK2C,QAAQgB,SAASlC,OAZjC,wBAeUxC,EAAY,CAACzD,EAAK6D,YAAaD,GACnCuD,EAAU,CAACnH,EAAKiG,MAAOA,GACvBtC,EAAU,CAAC3D,EAAK+D,SAAUD,GACtBsE,EAAU,CAAE3E,YAAW0D,UAASxD,UAAS2C,MAAO,IAlB1D,UAmByBrF,EAAGyF,WAAW,cAAc2B,IAAID,GAnBzD,eAmBUE,EAnBV,OAqBIzG,QAAQC,IAAR,UAAewG,EAAOxD,GAAtB,8BArBJ,UAuB+B7D,EACxByF,WAAW,cACX6B,MAAM,UAAW,iBAAkBvI,EAAKiG,OACxCuC,MA1BP,QAuBUC,EAvBV,OA4BQC,EAAe,GA5BvB,cA8BoBD,EAAaE,MA9BjC,IA8BI,2BAAShC,EAA0B,QACjC+B,EAAajC,KAAb,aAAoB/C,QAASiD,EAAI7B,IAAO6B,EAAIiC,SA/BlD,8BAkCIxI,GAAU,SAAC6D,GACT,OAAO,2BACFA,GADL,IAEEhE,UAAWyI,EACXxI,cAAeoI,EAAOxD,QAtC9B,wBA0CQ5E,EAAgBD,EAAUmF,GAAgB1B,QAC9CtD,GAAU,SAAC6D,GACT,OAAO,2BAAKA,GAAZ,IAAwBmB,iBAAgBlF,qBA5C9C,QA+CEqC,GAAW,SAAC2B,GACV,OAAO,2BAAKA,GAAZ,IAAyB/B,YAAY,OAhDzC,6CAR2B,sBA4D3B,OACE,yBAAQJ,UAAU,yBAAyBiC,QAAS,kBA7D3B,0CA6DiC6E,IAA1D,UACE,qBAAK9G,UAAU,SAASoC,IAAKL,EAAQM,IAAI,KACzC,4BAAIR,QCPKkF,MAtDf,WACEjH,QAAQC,IAAI,oBAEZ,MAAgCyB,qBAAWtB,GAAnCK,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WACTJ,EAAeG,EAAfH,WACR,EAA4BpC,mBAAS,IAArC,mBAAOsF,EAAP,KAAeC,EAAf,KACA,EAA8BvF,mBAAS,IAAvC,mBAAOgJ,EAAP,KAAgBC,EAAhB,KA4BA,OACE,sBAAKjH,UAAU,SAAf,UACE,uBACEA,UAAU,UACVzB,MAAO+E,EACPG,SAAU,SAACC,GAAD,OAhChB,SAAsBA,GACpBH,EAAUG,EAAMC,OAAOpF,OA+BEqF,CAAaF,MAEpC,wBAAQ1D,UAAU,uBAAuBiC,QA9B7C,WACEnC,QAAQC,IAAI,yBAERuD,IACFxD,QAAQC,IAAR,4BAAiCQ,IACjCrB,EAAGyF,WAAW,cACX6B,MAAM,OAAQ,KAAMlD,EAAO4D,QAC3BT,MACA3B,MAAK,SAACqC,GACL,IAAIC,EAAe,GAEnBD,EAASE,SAAQ,SAACzC,GAChBwC,EAAa1C,KAAK,cAAC,EAAD,CAA2BjD,KAAMmD,EAAIiC,QAAlBjC,EAAI7B,QAE3CkE,EAAWG,GACX5G,GAAW,SAAC2B,GACV,OAAO,2BAAKA,GAAZ,IAAyB/B,YAAY,OAEvCmD,EAAU,SAYd,SACE,cAAC,IAAD,CAAiBL,KAAMoE,QAEzB,qBACEtH,UAAU,iBACV6C,MAAOzC,EAAa,CAAEuC,QAAS,SAAY,CAAEA,QAAS,QAFxD,SAIGqE,QC/BMO,MAlBf,WACEzH,QAAQC,IAAI,qBAEZ,IAAQY,EAAUI,IAAVJ,MAKR,OACE,wBACEX,UAAWW,GAAS,IAAM,uBAAyB,kBACnDsB,QANJ,WACExD,EAAKc,OAAOiI,WAGZ,SAIG7G,GAAS,IAAM,cAAC,IAAD,CAAiBuC,KAAMuE,MAAmB,YCDjDC,MAbf,WACE,IACQzJ,EADWuD,qBAAW7D,GAAtBS,OACAH,KAER,OACE,sBAAK+B,UAAU,uBAAf,UACE,qBAAKA,UAAU,SAASoC,IAAKnE,EAAK+D,SAAUK,IAAI,WAChD,cAAC,EAAD,IACA,cAAC,EAAD,QCESsF,MAZf,WACE,IACQvH,EADYoB,qBAAWtB,GAAvBK,QACAH,WAER,OADAN,QAAQC,IAAR,sBAA2BK,IAEzB,qBACEJ,UAAU,UACV6C,MAAOzC,EAAa,CAAEwH,OAAQ,KAAQ,CAAEA,OAAQ,SCevCC,MApBf,WACE,MAAgCrG,qBAAWtB,GAAnCK,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WACTH,EAAYE,EAAZF,QASR,OACE,qBAAKL,UAAU,uBAAf,SACE,wBAAQA,UAAU,uBAAuBiC,QAT7C,WACEzB,GAAW,SAAC2B,GACV,IAAM9B,EAAU,EAAI8B,EAAY9B,QAChC,OAAO,2BAAK8B,GAAZ,IAAyB9B,gBAMzB,SACE,cAAC,IAAD,CAAiB6C,KAAkB,IAAZ7C,EAAgByH,IAAWC,W,MCsD3CC,MA7Df,WACElI,QAAQC,IAAI,kBAEZ,MAA8ByB,qBAAW7D,GAAjCS,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAChB,EAAgCmD,qBAAWtB,GAAnCK,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,WACTF,EAAeC,EAAfD,WACAK,EAAUI,IAAVJ,MACA1C,EAAoBG,EAApBH,KAAMC,EAAcE,EAAdF,UAqCd,OAnCA4B,QAAQC,IAAR,iBAAsBY,IACtBb,QAAQC,IAAR,mBAAwBQ,EAAQF,UAEhCa,qBAAU,WAENV,EADEG,GAASL,EACA,SAAC6B,GACV,OAAO,2BAAKA,GAAZ,IAAyB9B,QAAS,KAGzB,SAAC8B,GACV,OAAO,2BAAKA,GAAZ,IAAyB9B,SAAU,QAGtC,CAACM,IAEJO,qBAAU,WACR,IAAM+G,EAAa/I,EAChByF,WAAW,cACX6B,MAAM,UAAW,iBAAkBvI,EAAKiG,OACxCgE,YAAW,SAACf,GACX,IAAIR,EAAe,GACnBQ,EAASE,SAAQ,SAACzC,GAChB+B,EAAajC,KAAb,aAAoB/C,QAASiD,EAAI7B,IAAO6B,EAAIiC,YAG9CxI,GAAU,SAAC6D,GACT,OAAO,2BAAKA,GAAZ,IAAwBhE,UAAWyI,UAIzC,OAAO,WACLsB,OAED,IAGD,cAAC,IAAME,SAAP,UACiB,OAAdjK,EACC,6CAEA,sBAAK8B,UAAU,iBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,UCIKoI,MA9Df,WACEtI,QAAQC,IAAI,iBAEZ,MAA8ByB,qBAAW7D,GAAjCS,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UACRJ,EAASG,EAATH,KA6CR,OA3CAiD,qBAAU,WACR,IAAMmH,EAAa5J,EAAKc,OAAO+I,oBAAmB,SAACrK,GAgBjD,GAfA6B,QAAQC,IAAR,8BAAmC9B,IAG/BI,EADK,OAATJ,EACc,SAACiE,GACT,OAAO,2BACFA,GADL,IAEEjE,KAAM,KACNE,cAAe,KACfD,UAAW,QAGL,SAACgE,GACT,OAAO,2BAAKA,GAAZ,IAAwBjE,WAI5BA,GACAQ,EAAKc,OAAOgJ,YAAYC,SAASC,eAC/BhK,EAAKc,OAAOgJ,YAAYC,SAASE,eACnC,CACA,IAAIC,EAAU,CACZ9G,KAAM5D,EAAK6D,YACXoC,MAAOjG,EAAKiG,MACZnC,OAAQ9D,EAAK+D,UAEf9C,EAAGyF,WAAW,cACX2B,IAAIqC,GACJ7D,MAAK,SAACyB,GAAD,OACJzG,QAAQC,IAAR,UAAewG,EAAOxD,GAAtB,sCAEDgC,OAAM,SAACC,GAAD,OACLlF,QAAQC,IAAR,UAAeiF,EAAf,6CAKR,OAAO,WACLqD,OAED,IAGD,cAAClI,EAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOyI,OAAK,EAACC,KAAK,IAAlB,SACG5K,EAAO,cAAC,EAAD,IAAW,cAAC,EAAD,aCzD/B6K,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAClL,EAAD,UACE,cAAC,EAAD,QAGJmL,SAASC,eAAe,W","file":"static/js/main.7e8af355.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nconst globalContext = React.createContext();\r\n\r\nfunction GlobalContextProvider(props) {\r\n  const [global, setGlobal] = useState({\r\n    user: null,\r\n    chatRooms: null,\r\n    currentRoomId: null,\r\n  });\r\n\r\n  return (\r\n    <globalContext.Provider value={{ global, setGlobal }}>\r\n      {props.children}\r\n    </globalContext.Provider>\r\n  );\r\n}\r\n\r\nexport { GlobalContextProvider, globalContext };\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBQwYLNreWnwSEeNC3eOzr-2q-1PASglCI\",\r\n  authDomain: \"cute-chat-43080.firebaseapp.com\",\r\n  projectId: \"cute-chat-43080\",\r\n  storageBucket: \"cute-chat-43080.appspot.com\",\r\n  messagingSenderId: \"730231964779\",\r\n  appId: \"1:730231964779:web:198ad75e908791fa541d2e\",\r\n};\r\n\r\nconst fire = firebase.initializeApp(firebaseConfig);\r\nlet db = fire.firestore();\r\n\r\nexport { fire, db };\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst uiConfig = {\r\n  signInFlow: \"popup\",\r\n  signInOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n  ],\r\n  callbacks: {\r\n    // Avoid redirects after sign-in.\r\n    signInSuccessWithAuthResult: () => {\r\n      return false;\r\n    },\r\n  },\r\n};\r\n\r\nexport default uiConfig;\r\n","import React from \"react\";\r\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\nimport { fire } from \"../services/firebase\";\r\nimport uiConfig from \"../services/firebaseui\";\r\nimport \"../styles/Login.css\";\r\n\r\nfunction Login() {\r\n  console.log(\"Login Component.\");\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"login-container\">\r\n        <p className=\"item\">Login</p>\r\n        <div className=\"item\">\r\n          <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={fire.auth()} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState } from \"react\";\r\n\r\nconst styleContext = React.createContext();\r\n\r\nfunction StyleContextProvider(props) {\r\n  const [myStyle, setMyStyle] = useState({\r\n    searchIsOn: false,\r\n    focused: -1,\r\n    breakPoint: 1023,\r\n  });\r\n\r\n  return (\r\n    <styleContext.Provider value={{ myStyle, setMyStyle }}>\r\n      {props.children}\r\n    </styleContext.Provider>\r\n  );\r\n}\r\n\r\nexport { StyleContextProvider, styleContext };\r\n","import { useState, useEffect } from \"react\";\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nfunction useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(\r\n    getWindowDimensions()\r\n  );\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n\r\nexport default useWindowDimensions;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport useWindowsDimensions from \"../custom_hooks/useWindowDimensions\";\r\n\r\nfunction ChatHead(props) {\r\n  console.log(\"ChatHead Component\");\r\n\r\n  const { width } = useWindowsDimensions();\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { breakPoint } = myStyle;\r\n  const { global, setGlobal } = useContext(globalContext);\r\n  const { user } = global;\r\n  const { room_name, room_id, imgUrls } = props.info;\r\n  let name = room_name[0] === user.displayName ? room_name[1] : room_name[0];\r\n  let imgUrl = imgUrls[0] === user.photoURL ? imgUrls[1] : imgUrls[0];\r\n\r\n  function handleClick() {\r\n    setGlobal((prevGlobal) => {\r\n      return { ...prevGlobal, currentRoomId: room_id };\r\n    });\r\n\r\n    if (width <= breakPoint) {\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, focused: 0 };\r\n      });\r\n    }\r\n  }\r\n  console.log(`Image: ${props.info}`);\r\n  return (\r\n    <button className=\"chat-head elevated\" onClick={() => handleClick()}>\r\n      <img className=\"avatar\" src={imgUrl} alt=\"avatar\" />\r\n      <p>{name}</p>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default ChatHead;\r\n","import React, { useContext } from \"react\";\r\nimport ChatHead from \"./ChatHead\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\n\r\nfunction ChatSideBar() {\r\n  console.log(\"ChatSideBar component.\");\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { myStyle } = useContext(styleContext);\r\n  const { focused } = myStyle;\r\n  const { chatRooms } = global;\r\n\r\n  const chatHeads = chatRooms.map((room) => {\r\n    return <ChatHead key={room.room_id} info={room} />;\r\n  });\r\n\r\n  let focusedStyle = {\r\n    display: \"block\",\r\n    gridArea: \"focus\",\r\n  };\r\n\r\n  if (focused === -1) {\r\n    focusedStyle.gridArea = \"sidebar\";\r\n  }\r\n\r\n  const hiddenStyle = {\r\n    display: \"none\",\r\n  };\r\n\r\n  console.log(`focused in sidebar: ${focused}`);\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-sidebar pressed\"\r\n      style={focused === 0 ? hiddenStyle : focusedStyle}\r\n    >\r\n      {chatHeads}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatSideBar;\r\n","import { useContext } from \"react\";\r\nimport { globalContext } from \"../components/globalContext\";\r\n\r\nfunction useRoomIndex(id) {\r\n  const { global } = useContext(globalContext);\r\n  const { chatRooms } = global;\r\n  if (id === null) {\r\n    return null;\r\n  }\r\n  const index = chatRooms.findIndex((room) => room.room_id === id);\r\n  return index;\r\n}\r\n\r\nexport default useRoomIndex;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faHandshake } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction BlankRoom() {\r\n  console.log(\"BlankRoom Component.\");\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { user } = global;\r\n\r\n  return (\r\n    <div className=\"blank-room\">\r\n      <p>{`Welcome To CuteChat ${user.displayName}`}</p>\r\n      <div className=\"faded-icon\">\r\n        <FontAwesomeIcon icon={faHandshake} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlankRoom;\r\n","import React from \"react\";\r\nimport { db } from \"../services/firebase\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction ComposeChatText() {\r\n  console.log(\"ComposeChatText Component\");\r\n\r\n  const { global } = React.useContext(globalContext);\r\n  const { chatRooms, currentRoomId, user } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n\r\n  const [inpVal, setInpVal] = React.useState(\"\");\r\n\r\n  function handleChange(event) {\r\n    setInpVal(event.target.value);\r\n  }\r\n\r\n  function handleClick() {\r\n    const curTime = new Date();\r\n    let newText = {\r\n      id: Date.now(),\r\n      author: user.email,\r\n      body: inpVal,\r\n      time: curTime.toLocaleTimeString(),\r\n    };\r\n\r\n    let updTexts = chatRooms[currentRoomInd].texts;\r\n    if (updTexts.length >= 5) {\r\n      updTexts.shift();\r\n    }\r\n    updTexts.push(newText);\r\n\r\n    db.collection(\"cute_rooms\")\r\n      .doc(currentRoomId)\r\n      .update({ texts: updTexts })\r\n      .then(() => console.log(\"success writing\"))\r\n      .catch((error) => console.log(error));\r\n\r\n    setInpVal(\"\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"compose-text\">\r\n      <input\r\n        className=\"pressed\"\r\n        placeholder=\"Write\"\r\n        value={inpVal}\r\n        onChange={(event) => handleChange(event)}\r\n      />\r\n      <button className=\"elevated rounded-btn\" onClick={handleClick}>\r\n        <FontAwesomeIcon icon={faPaperPlane} />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ComposeChatText;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\n\r\nfunction InboxHeader() {\r\n  const { global } = useContext(globalContext);\r\n  const { user, chatRooms, currentRoomId } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n  let name, imgUrl;\r\n\r\n  if (currentRoomInd !== null) {\r\n    const { room_name, imgUrls } = chatRooms[currentRoomInd];\r\n    name = room_name[0] === user.displayName ? room_name[1] : room_name[0];\r\n    imgUrl = imgUrls[0] === user.photoURL ? imgUrls[1] : imgUrls[0];\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-header\">\r\n      <img className=\"avatar\" src={imgUrl} alt=\"avatar\" />\r\n      <p>{name}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InboxHeader;\r\n","import React, { useContext } from \"react\";\r\nimport { db } from \"../services/firebase\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrashAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Text(props) {\r\n  console.log(\"Text component\");\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { chatRooms, currentRoomId, user } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n  const { id, body, time, author } = props.info;\r\n\r\n  const { members, imgUrls } = chatRooms[currentRoomInd];\r\n  const authorIndex = members.findIndex((member) => member === author);\r\n  const imgUrl = imgUrls[authorIndex];\r\n\r\n  function handleDelete() {\r\n    let updTexts = chatRooms[currentRoomInd].texts.filter((text) => {\r\n      return text.id !== id;\r\n    });\r\n\r\n    db.collection(\"cute_rooms\")\r\n      .doc(currentRoomId)\r\n      .update({ texts: updTexts })\r\n      .then(() => console.log(\"success writing\"))\r\n      .catch((error) => console.log(error));\r\n  }\r\n\r\n  let imgStyle = {};\r\n  let contentStyle = {\r\n    marginLeft: \"1rem\",\r\n  };\r\n\r\n  if (author === user.email) {\r\n    imgStyle = {\r\n      order: \"2\",\r\n    };\r\n\r\n    contentStyle = {\r\n      order: \"1\",\r\n      marginRight: \"1rem\",\r\n    };\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-text\"\r\n      style={author === user.email ? { alignSelf: \"flex-end\" } : null}\r\n    >\r\n      <img className=\"avatar\" src={imgUrl} style={imgStyle} alt=\"avatar\" />\r\n      <div className=\"chat-text-content elevated\" style={contentStyle}>\r\n        <p className=\"chat-text-time\">{time}</p>\r\n        <p className=\"chat-text-body\">{body}</p>\r\n        {author === user.email && (\r\n          <button className=\"chat-text-delete\" onClick={handleDelete}>\r\n            <FontAwesomeIcon icon={faTrashAlt} />\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Text;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport ChatText from \"./ChatText\";\r\n\r\nfunction ChatTexts() {\r\n  const { global } = useContext(globalContext);\r\n  const { chatRooms, currentRoomId } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n\r\n  return (\r\n    <div className=\"chat-texts\">\r\n      {chatRooms[currentRoomInd].texts.map((text) => {\r\n        return <ChatText key={text.id} info={text} />;\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatTexts;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport useRoomIndex from \"../custom_hooks/useRoomIndex\";\r\nimport BlankRoom from \"./BlankRoom\";\r\nimport ComposeChatText from \"./ComposeChatText\";\r\nimport InboxHeader from \"../components/InboxHeader\";\r\nimport ChatTexts from \"../components/ChatTexts\";\r\n\r\nfunction ChatBox() {\r\n  console.log(\"ChatBox component\");\r\n\r\n  const { myStyle } = useContext(styleContext);\r\n  const { focused } = myStyle;\r\n\r\n  const { global } = useContext(globalContext);\r\n  const { currentRoomId } = global;\r\n  const currentRoomInd = useRoomIndex(currentRoomId);\r\n\r\n  let focusedStyle = {\r\n    display: \"grid\",\r\n    gridArea: \"focus\",\r\n  };\r\n\r\n  if (focused === -1) {\r\n    focusedStyle.gridArea = \"box\";\r\n  }\r\n\r\n  const hiddenStyle = {\r\n    display: \"none\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"chat-box pressed\"\r\n      style={focused === 1 ? hiddenStyle : focusedStyle}\r\n    >\r\n      {currentRoomInd === null ? (\r\n        <BlankRoom />\r\n      ) : (\r\n        <>\r\n          <InboxHeader />\r\n          <ChatTexts />\r\n          <ComposeChatText />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatBox;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport { db } from \"../services/firebase\";\r\n\r\nfunction SearchResult(props) {\r\n  console.log(\"SearchResult component.\");\r\n\r\n  const { global, setGlobal } = useContext(globalContext);\r\n  const { setMyStyle } = useContext(styleContext);\r\n  const { chatRooms, user } = global;\r\n  const { name, email, imgUrl } = props.info;\r\n\r\n  async function handleClick() {\r\n    console.log(\"Search Result from searches Click\");\r\n\r\n    if (email === user.email) {\r\n      console.log(\"This is You!\");\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, searchIsOn: false };\r\n      });\r\n      return;\r\n    }\r\n\r\n    let currentRoomInd = chatRooms.findIndex((room) => {\r\n      return room.members.includes(email);\r\n    });\r\n    if (currentRoomInd === -1) {\r\n      const room_name = [user.displayName, name],\r\n        members = [user.email, email],\r\n        imgUrls = [user.photoURL, imgUrl];\r\n      const newRoom = { room_name, members, imgUrls, texts: [] };\r\n      const docRef = await db.collection(\"cute_rooms\").add(newRoom);\r\n\r\n      console.log(`${docRef.id} successfully room added.`);\r\n\r\n      const updChatRooms = await db\r\n        .collection(\"cute_rooms\")\r\n        .where(\"members\", \"array-contains\", user.email)\r\n        .get();\r\n\r\n      let newChatRooms = [];\r\n\r\n      for (let doc of updChatRooms.docs) {\r\n        newChatRooms.push({ room_id: doc.id, ...doc.data() });\r\n      }\r\n\r\n      setGlobal((prevGlobal) => {\r\n        return {\r\n          ...prevGlobal,\r\n          chatRooms: newChatRooms,\r\n          currentRoomId: docRef.id,\r\n        };\r\n      });\r\n    } else {\r\n      let currentRoomId = chatRooms[currentRoomInd].room_id;\r\n      setGlobal((prevGlobal) => {\r\n        return { ...prevGlobal, currentRoomInd, currentRoomId };\r\n      });\r\n    }\r\n    setMyStyle((prevMyStyle) => {\r\n      return { ...prevMyStyle, searchIsOn: false };\r\n    });\r\n  }\r\n\r\n  return (\r\n    <button className=\"search-result elevated\" onClick={() => handleClick()}>\r\n      <img className=\"avatar\" src={imgUrl} alt=\"\" />\r\n      <p>{name}</p>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default SearchResult;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { db } from \"../services/firebase\";\r\nimport SearchResult from \"./SearchResult\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Search() {\r\n  console.log(\"Search Component\");\r\n\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { searchIsOn } = myStyle;\r\n  const [inpVal, setInpVal] = useState(\"\");\r\n  const [userBar, setUserBar] = useState([]);\r\n  function handleChange(event) {\r\n    setInpVal(event.target.value);\r\n  }\r\n\r\n  function handleSearch() {\r\n    console.log(\"handleSearch clicked.\");\r\n\r\n    if (inpVal) {\r\n      console.log(`after setMyStyle: ${myStyle}`);\r\n      db.collection(\"cute_users\")\r\n        .where(\"name\", \"==\", inpVal.trim())\r\n        .get()\r\n        .then((snapShot) => {\r\n          let tempUserBars = [];\r\n\r\n          snapShot.forEach((doc) => {\r\n            tempUserBars.push(<SearchResult key={doc.id} info={doc.data()} />);\r\n          });\r\n          setUserBar(tempUserBars);\r\n          setMyStyle((prevMyStyle) => {\r\n            return { ...prevMyStyle, searchIsOn: true };\r\n          });\r\n          setInpVal(\"\");\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <input\r\n        className=\"pressed\"\r\n        value={inpVal}\r\n        onChange={(event) => handleChange(event)}\r\n      />\r\n      <button className=\"rounded-btn elevated\" onClick={handleSearch}>\r\n        <FontAwesomeIcon icon={faSearch} />\r\n      </button>\r\n      <div\r\n        className=\"search-results\"\r\n        style={searchIsOn ? { display: \"block\" } : { display: \"none\" }}\r\n      >\r\n        {userBar}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport { fire } from \"../services/firebase\";\r\nimport useWindowDimensions from \"../custom_hooks/useWindowDimensions\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignOutAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Logout() {\r\n  console.log(\"Logout Component.\");\r\n\r\n  const { width } = useWindowDimensions();\r\n\r\n  function handleLogout() {\r\n    fire.auth().signOut();\r\n  }\r\n  return (\r\n    <button\r\n      className={width <= 400 ? \"rounded-btn elevated\" : \"logout elevated\"}\r\n      onClick={handleLogout}\r\n    >\r\n      {width <= 480 ? <FontAwesomeIcon icon={faSignOutAlt} /> : \"Logout\"}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Logout;\r\n","import React, { useContext } from \"react\";\r\nimport { globalContext } from \"./globalContext\";\r\nimport Search from \"./Search\";\r\nimport Logout from \"./Logout\";\r\n\r\nfunction ChatHeader() {\r\n  const { global } = useContext(globalContext);\r\n  const { user } = global;\r\n\r\n  return (\r\n    <div className=\"chat-header elevated\">\r\n      <img className=\"avatar\" src={user.photoURL} alt=\"avatar\" />\r\n      <Search />\r\n      <Logout />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatHeader;\r\n","import React, { useContext } from \"react\";\r\nimport { styleContext } from \"./styleContext\";\r\n\r\nfunction GreyOut() {\r\n  const { myStyle } = useContext(styleContext);\r\n  const { searchIsOn } = myStyle;\r\n  console.log(`SearchIsOn: ${searchIsOn}`);\r\n  return (\r\n    <div\r\n      className=\"greyout\"\r\n      style={searchIsOn ? { zIndex: \"1\" } : { zIndex: \"-1\" }}\r\n    ></div>\r\n  );\r\n}\r\n\r\nexport default GreyOut;\r\n","import React, { useContext } from \"react\";\r\nimport { styleContext } from \"./styleContext\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCoffee, faParachuteBox } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction ChatFooter() {\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { focused } = myStyle;\r\n\r\n  function handleClick() {\r\n    setMyStyle((prevMyStyle) => {\r\n      const focused = 1 - prevMyStyle.focused;\r\n      return { ...prevMyStyle, focused };\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"chat-footer elevated\">\r\n      <button className=\"elevated rounded-btn\" onClick={handleClick}>\r\n        <FontAwesomeIcon icon={focused === 0 ? faCoffee : faParachuteBox} />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatFooter;\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { globalContext } from \"../components/globalContext\";\r\nimport { db } from \"../services/firebase\";\r\nimport ChatSideBar from \"../components/ChatSideBar\";\r\nimport ChatBox from \"../components/ChatBox\";\r\nimport ChatHeader from \"../components/ChatHeader\";\r\nimport GreyOut from \"../components/GreyOut\";\r\nimport ChatFooter from \"../components/ChatFooter\";\r\nimport { styleContext } from \"../components/styleContext\";\r\nimport useWindowDimensions from \"../custom_hooks/useWindowDimensions\";\r\nimport \"../styles/Chat.css\";\r\n\r\nfunction Chat() {\r\n  console.log(\"Chat Component\");\r\n\r\n  const { global, setGlobal } = useContext(globalContext);\r\n  const { myStyle, setMyStyle } = useContext(styleContext);\r\n  const { breakPoint } = myStyle;\r\n  const { width } = useWindowDimensions();\r\n  const { user, chatRooms } = global;\r\n\r\n  console.log(`width: ${width}`);\r\n  console.log(`focused: ${myStyle.focused}`);\r\n\r\n  useEffect(() => {\r\n    if (width <= breakPoint) {\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, focused: 0 };\r\n      });\r\n    } else {\r\n      setMyStyle((prevMyStyle) => {\r\n        return { ...prevMyStyle, focused: -1 };\r\n      });\r\n    }\r\n  }, [width]);\r\n\r\n  useEffect(() => {\r\n    const dbListener = db\r\n      .collection(\"cute_rooms\")\r\n      .where(\"members\", \"array-contains\", user.email)\r\n      .onSnapshot((snapShot) => {\r\n        let newChatRooms = [];\r\n        snapShot.forEach((doc) => {\r\n          newChatRooms.push({ room_id: doc.id, ...doc.data() });\r\n        });\r\n\r\n        setGlobal((prevGlobal) => {\r\n          return { ...prevGlobal, chatRooms: newChatRooms };\r\n        });\r\n      });\r\n\r\n    return function cleanup() {\r\n      dbListener();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {chatRooms === null ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <div className=\"chat-container\">\r\n          <ChatHeader />\r\n          <ChatSideBar />\r\n          <ChatBox />\r\n          <ChatFooter />\r\n          <GreyOut />\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import React, { useContext, useEffect } from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { globalContext } from \"./components/globalContext\";\nimport { fire, db } from \"./services/firebase\";\nimport Login from \"./pages/Login\";\nimport Chat from \"./pages/Chat\";\nimport { StyleContextProvider } from \"./components/styleContext\";\n\nfunction App() {\n  console.log(\"App component\");\n\n  const { global, setGlobal } = useContext(globalContext);\n  const { user } = global;\n\n  useEffect(() => {\n    const authChange = fire.auth().onAuthStateChanged((user) => {\n      console.log(`Auth Changed. User: ${user}`);\n\n      user === null\n        ? setGlobal((prevGlobal) => {\n            return {\n              ...prevGlobal,\n              user: null,\n              currentRoomId: null,\n              chatRooms: null,\n            };\n          })\n        : setGlobal((prevGlobal) => {\n            return { ...prevGlobal, user };\n          });\n\n      if (\n        user &&\n        fire.auth().currentUser.metadata.creationTime ===\n          fire.auth().currentUser.metadata.lastSignInTime\n      ) {\n        let newUser = {\n          name: user.displayName,\n          email: user.email,\n          imgUrl: user.photoURL,\n        };\n        db.collection(\"cute_users\")\n          .add(newUser)\n          .then((docRef) =>\n            console.log(`${docRef.id} and new user successfully in.`)\n          )\n          .catch((error) =>\n            console.log(`${error} in writing new user in database.`)\n          );\n      }\n    });\n\n    return function cleanup() {\n      authChange();\n    };\n  }, []);\n\n  return (\n    <StyleContextProvider>\n      <Router>\n        <Switch>\n          <Route exact path=\"/\">\n            {user ? <Chat /> : <Login />}\n          </Route>\n        </Switch>\n      </Router>\n    </StyleContextProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { GlobalContextProvider } from \"./components/globalContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalContextProvider>\n      <App />\n    </GlobalContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}